<SignUpScreen>:
    name: "signUp"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                size: self.size
                pos: self.pos

        Image:
            source: "Icons/otoscope.png"
            size_hint: (None, None)
            size: dp(100), dp(100)
            pos_hint: {"center_x": 0.5, "top": 1}

        Label:
            text: "Autoscope"
            font_size: dp(28)
            color: 0, 0, 0, 1
            size_hint: (None, None)
            pos_hint: {"center_x": 0.5, "top": 0.88}

        Label:
            text: "Early detection of ear infections"
            font_size: dp(14)
            color: 0.4, 0.4, 0.4, 1
            size_hint: (None, None)
            pos_hint: {"center_x": 0.5, "top": 0.84}

        RoundedTextInput:
            id: full_name_input
            hint_text: "Full name"
            hint_text_color: 1, 1, 1, 0.6
            size_hint: (0.8, None)
            height: dp(45)
            pos_hint: {"center_x": 0.5, "center_y": 0.68}
            multiline: False
            padding: [10, (self.height - self.line_height) / 2]
            on_text_validate: root.switch_focus_to_next(self, root.ids.email_input)

        RoundedTextInput:
            id: email_input
            hint_text: "Email"
            hint_text_color: 1, 1, 1, 0.6
            size_hint: (0.8, None)
            height: dp(45)
            pos_hint: {"center_x": 0.5, "center_y": 0.58}
            multiline: False
            padding: [10, (self.height - self.line_height) / 2]
            on_text_validate: root.switch_focus_to_next(self, root.ids.gender_input)
        
        Spinner:
            id: gender_input
            text: "Gender"
            values: ["male", "female"]
            hint_text_color: 1, 1, 1, 0.6
            size_hint: (0.8, None)
            height: dp(45)
            background_color: 0.1, 0.6, 0.8, 1
            pos_hint: {"center_x": 0.5, "center_y": 0.48}
            on_text: root.switch_focus_to_next(self, root.ids.phone_prefix)

        BoxLayout:
            orientation: 'horizontal'
            size_hint: (0.8, None)
            height: dp(45)
            pos_hint: {"center_x": 0.5, "center_y": 0.38}

            Spinner:
                id: phone_prefix
                text: "+972"
                values: ["+972", "+1", "+44", "+33", "+91", "+86"]
                size_hint: (0.3, None)
                height: dp(45)
                background: ''
                background_color: 0.1, 0.6, 0.8, 1
                color: 1, 1, 1, 1
                sync_height: True
                on_text: root.switch_focus_to_next(self, root.ids.phone_number_input)

            RoundedTextInput:
                id: phone_number_input
                hint_text: "Phone number"
                hint_text_color: 1, 1, 1, 0.6
                size_hint: (0.7, None)
                height: dp(45)
                multiline: False
                padding: [10, (self.height - self.line_height) / 2]
                on_text_validate: root.switch_focus_to_next(self, root.ids.password_input)

        RoundedTextInput:
            id: password_input
            hint_text: "Password"
            hint_text_color: 1, 1, 1, 0.6
            password: True
            size_hint: (0.8, None)
            height: dp(45)
            pos_hint: {"center_x": 0.5, "center_y": 0.28}
            multiline: False
            padding: [10, (self.height - self.line_height) / 2]
            on_text_validate: root.switch_focus_to_next(self, root.ids.confirm_password_input)

        ClickableImage:
            id: toggle_first_password_visibility
            source: "./Icons/eye_close.png"
            size_hint: (None, None)
            size: dp(25), dp(25)
            pos_hint: {"center_x": 0.85, "center_y": 0.28}
            on_release: root.toggle_password_visibility(self, 0)

        RoundedTextInput:
            id: confirm_password_input
            hint_text: "Confirm"
            hint_text_color: 1, 1, 1, 0.6
            password: True
            size_hint: (0.8, None)
            height: dp(45)
            pos_hint: {"center_x": 0.5, "center_y": 0.18}
            multiline: False
            padding: [10, (self.height - self.line_height) / 2]
            on_text_validate: root.sign_up_func()

        ClickableImage:
            id: toggle_second_password_visibility
            source: "./Icons/eye_close.png"
            size_hint: (None, None)
            size: dp(25), dp(25)
            pos_hint: {"center_x": 0.85, "center_y": 0.18}
            on_release: root.toggle_password_visibility(self, 1)

        BoxLayout:
            orientation: 'horizontal'
            size_hint: (0.9, None)
            height: dp(50)
            spacing: dp(10)
            pos_hint: {"center_x": 0.5, "center_y": 0.05}

            RoundedButton_:
                id: login_btn
                text: "Log In"
                size_hint: (0.5, 1)
                background_color: 0.3, 0.3, 0.3, 1
                on_release: root.open_login_screen()

            RoundedButton_:
                id: signup_btn
                text: "Sign Up"
                size_hint: (0.5, 1)
                background_color: 0.1, 0.6, 0.8, 1
                on_release: root.sign_up_func()